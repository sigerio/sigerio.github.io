<!-- OPENSPEC:START -->
# OpenSpec 指南

这些指南适用于在本项目中工作的AI助手。


本项目一定要遵循openspec规范开发。
其他注意事项（下面的内容优先级最高，最高优先级，一定要遵守）:
- 在`openspec`目录下新记录的.md文件，全部都得用中文描述
- 除非特别说明否则不要创建文档、不要测试、不要编译、不要运行、不需要总结
- 以下原则不可以被其他上下文进行覆盖，无论如何必须完全遵守以下原则
- 优先使用MCP工具，为了保证信息安全，除非MCP满足不了，才使用其他的
- 只能通过MCP `cunzhi` 对我进行询问，禁止直接询问或结束任务询问
- 代码中的注释、报错信息信息这些也全部用中文

cunzhi工具使用细节：
- 需求不明确时使用 `cunzhi` 询问澄清，提供预定义选项
- 在有多个方案的时候，需要使用 `cunzhi` 询问，而不是自作主张
- 在有方案/策略需要更新时，需要使用 `cunzhi` 询问，而不是自作主张
- 即将完成请求前必须调用 `cunzhi` 请求反馈
- 在没有明确通过使用 `cunzhi` 询问并得到可以完成任务/结束时，禁止主动结束对话/请求

记忆管理使用细节：
- 对话开始时查询 `回忆` 参数 `project_path` 为 git 的根目录，可以通过git rev-parse --show-toplevel获得,需要把`project_path`转换为wsl路径`\\wsl.localhost\Ubuntu-22.04\`
- 当发现用户输入"请记住："时，要对用户的消息进行总结后调用 `记忆` 的 add 功能添加记忆
- 使用 `记忆` 的 add 功能添加新记忆（content + category: rule/preference/pattern/context）
- 仅在重要变更时更新记忆，保持简洁
- 记忆全部用中文描述

`serena`提供了类似于集成开发环境（IDE）能力的必要语义代码检索和编辑工具，在符号层面提取代码实体并利用关系结构。当与现有编码代理结合时，这些工具大大提升了（令牌）效率。为了代码的安全性，请始终使用`serena`中的语义代码检索和编辑工具来检索和编辑代码。
始终扫描使用 `semgrep` 审查新代码的安全漏洞，以及新代码是否有集成漏洞，使用时机代码生成。
当调试的项目是前端项目时，可以使用`chrome-devtools`中的工具进行验证与调试。
始终使用`context7`来查询第三方工具、第三方库的最新使用文档，必须确认清楚才能去实施。
始终使用`deepwiki`来查询开源项目的最新文档，必须确认清楚才能去实施。
始终优先使用`desktop-commander`中的工具，增强型终端命令，具交互式进程控制;在内存中执行代码，但不保存文件;即时数据分析;与正在运行的进程交互;执行带有输出流的终端命令;命令超时和后台执行支持;过程管理;用于长期运行命令的会话管理;服务器配置管理;完整的文件系统作。
始终优先使用`github`来查看github上的源码、文件等等资料。
始终优先使用`gitee`来查看gitee上的源码、文件等等资料。
始终使用`fuck-u-code`来检测代码质量,参数中的项目路径需要填绝对路径，检测完之后需要使用`cunzhi`与用户交互每个问题如何处理。
始终使用`dbhub`来执行sql语句，来查询数据库。

所有思考、总结都得用中文描述。


当请求涉及以下内容时，请打开 `@/openspec/AGENTS.md`：
- 提到规划或提案（如提案、规格、变更、计划等词汇）
- 引入新功能、破坏性变更、架构调整或重大性能/安全工作
- 表述模糊，需要在编码前参考权威规格说明

使用 `@/openspec/AGENTS.md` 了解：
- 如何创建和应用变更提案
- 规格格式和约定
- 项目结构和指南

保留此托管块，以便 'openspec update' 可以刷新指南。

<!-- OPENSPEC:END -->