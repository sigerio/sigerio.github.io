---
layout: post
title: "克拉克(Clark)变换"
date: 2025-12-02
category: 电力电子
tags: [FOC, 电力电子, 坐标变换, Clark变换]
toc: true
---

## 专有名词解释

| 术语 | 全称/含义 | 详细解释 |
|------|----------|---------|
| Clark变换 | Clarke Transformation | 将三相静止坐标系(ABC)转换为两相静止坐标系(αβ)的数学变换 |
| ABC坐标系 | 三相静止坐标系 | 以三相定子绑定的坐标系，A、B、C轴互成120°，固定不动 |
| αβ坐标系 | 两相静止坐标系 | α轴与A轴重合，β轴超前α轴90°，两轴正交且固定不动 |
| PID | Proportional-Integral-Derivative | 比例-积分-微分控制器，工业中最常用的闭环控制算法 |
| D轴 | Direct Axis（直轴） | 与转子磁极方向一致的轴，控制励磁电流 |
| Q轴 | Quadrature Axis（交轴） | 与D轴正交，超前D轴90°，控制转矩电流 |
| SPWM | Sinusoidal PWM | 正弦脉宽调制，电压利用率约86.6% |
| SVPWM | Space Vector PWM | 空间矢量脉宽调制，电压利用率约100%，比SPWM高约15% |

## Clark变换简介

**克拉克变换（Clarke Transformation）** 由伊迪丝·克拉克（Edith Clarke）于1937-1938年提出，用于将三相静止坐标系（ABC）转换为两相静止坐标系（αβ）。

### 坐标系建立依据

**三相静止坐标系（ABC）的建立：**
- 以电机三相定子绑定建立坐标系
- A、B、C三轴在空间上互成120°角
- 坐标系固定不动，不随转子旋转
- 每相电流可表示为 $i_a$、$i_b$、$i_c$

**两相静止坐标系（αβ）的建立：**
- α轴与A轴重合（0°位置）
- β轴超前α轴90°（正交）
- 坐标系同样固定不动
- 建立目的：将三相量简化为两相量，降低控制复杂度

## Clark变换的意义

FOC控制线圈产生连续的模拟磁场，需要三相相位差120°的正弦电流。在三相通入相位差120°的正弦电压从而产生三相相位差120°的正弦电流。

### SPWM与SVPWM的关系

| 特性 | SPWM | SVPWM |
|------|------|-------|
| 调制原理 | 比较正弦波与三角载波 | 基于空间电压矢量合成 |
| 电压利用率 | 86.6%（$\frac{\sqrt{3}}{2}$） | 100%（满占空比） |
| 谐波特性 | 奇次谐波为主 | 谐波含量更低 |
| 应用场景 | 简单变频调速 | FOC高性能控制 |

> SVPWM相比SPWM电压利用率提高约15%，在相同母线电压下可输出更高的电机相电压。

### 为什么不直接使用SVPWM产生三相正弦电压？

对电机控制大部分控制其速度/转矩（速度和转矩的关系）：
- 控制电机转矩 → 提高转矩：增大电流幅值，等价于增大加入的正弦电压幅值

### 为何要用坐标变换？

如何控制？使用PID，但控制交流波形很麻烦，所以变换成控制直流波形：
- 交流电压 → 直流电压 → PID闭环控制正弦的幅值、角度
- 交流信息分解出角度信息、幅值信息 → D轴：磁场，Q轴：转矩

## FOC控制流程

```
正弦电流 → 克拉克变换 → α和β的信息 → Park变换 → D轴和Q轴
                                              ↓
                                           PID控制
                                              ↓
                              直流Q信息、D信息 → 反帕克变换 → αβ → SVPWM → 正弦
```

## Clark变换公式推导

### 约束条件

$$i_a + i_b + i_c = 0$$

### 基本公式（公式1）

$$ i_\alpha = i_a $$

$$ i_\beta = \frac{1}{\sqrt{3}}(i_a + 2i_b) $$

### 推导过程

从几何关系出发：

$$ i_\alpha = i_a \cos 0° - i_b \cos 60° - i_c \cos 60° = i_a - \frac{1}{2}i_b - \frac{1}{2}i_c $$

$$ i_\beta = i_a \cos 90° + i_b \cos 30° - i_c \cos 30° = \frac{\sqrt{3}}{2}i_b - \frac{\sqrt{3}}{2}i_c $$

由于 $i_a + i_b + i_c = 0$，进行简单的同类项替换后得到（公式2）：

$$ i_\alpha = \frac{3}{2} i_a $$

$$ i_\beta = \frac{\sqrt{3}}{2}(i_a + 2i_b) $$

## 等幅值变换系数

FOC是**等幅值变换**，变换之后幅值不变。

为了使公式1 = 公式2，必须在公式2的基础上乘以 $\frac{2}{3}$，这个 $\frac{2}{3}$ 被称为**等幅值变换系数**。

### 最终公式

$$ i_\alpha = \frac{3}{2} \cdot i_a \cdot \frac{2}{3} = i_a $$

$$ i_\beta = \frac{\sqrt{3}}{2}(i_a + 2i_b) \cdot \frac{2}{3} = \frac{1}{\sqrt{3}}(i_a + 2i_b) $$

> **注意**：等幅值变换系数会在后续的SVPWM计算中找补回来。
