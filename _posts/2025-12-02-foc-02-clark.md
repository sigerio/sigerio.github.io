---
layout: post
title: "克拉克(Clark)变换"
date: 2025-12-02
category: 电力电子
tags: [FOC, 电力电子, 坐标变换, Clark变换]
toc: true
---

## 专有名词解释

**Clark变换（Clarke Transformation）**：将三相静止坐标系（ABC）转换为两相静止坐标系（αβ）的数学变换，是FOC算法的第一步坐标变换。

**ABC坐标系（三相静止坐标系）**：以电机三相定子绑定建立的坐标系，A、B、C三轴在空间上互成120°角，坐标系固定不动，不随转子旋转。

**αβ坐标系（两相静止坐标系）**：α轴与A轴重合，β轴超前α轴90°，两轴正交且固定不动。建立目的是将三相量简化为两相量，降低控制复杂度。

**D轴（Direct Axis，直轴）**：与转子磁极方向一致的轴，控制励磁电流。

**Q轴（Quadrature Axis，交轴）**：与D轴正交，超前D轴90°电角度，控制转矩电流。

**SPWM（Sinusoidal PWM）**：正弦脉宽调制，通过比较正弦波与三角载波产生PWM信号，电压利用率约为86.6%。

**SVPWM（Space Vector PWM）**：空间矢量脉宽调制，基于空间电压矢量合成的调制技术，电压利用率约为115%（相对于SPWM提高约15%）。


## Clark变换简介

**克拉克变换（Clarke Transformation）** 由伊迪丝·克拉克（Edith Clarke）于1937-1938年提出，用于将三相静止坐标系（ABC）转换为两相静止坐标系（αβ）。

### 为什么三相可以简化为两相

三相电机的三相电流满足约束条件：$i_a + i_b + i_c = 0$。这意味着三个变量中只有两个是独立的——知道其中两个，第三个就可以计算出来。因此，三相系统本质上只有两个自由度，可以用两相系统等效表示。

### Clark变换的几何意义

从几何角度理解，三相电流 $i_a$、$i_b$、$i_c$ 可以看作三个空间矢量，它们在空间上互成120°。Clark变换的本质是将这三个矢量投影到一个正交的二维坐标系（αβ坐标系）上：
- **α轴**：与A相轴重合（0°位置）
- **β轴**：垂直于α轴，超前90°

变换后，原来复杂的三相交流量变为两相交流量，虽然仍是交流，但变量数量减少了，便于后续处理。

### 坐标系建立依据

**三相静止坐标系（ABC）的建立**：以电机三相定子绑定建立坐标系，A、B、C三轴在空间上互成120°角。坐标系固定不动，不随转子旋转。每相电流可表示为 $i_a$、$i_b$、$i_c$。

**两相静止坐标系（αβ）的建立**：α轴与A轴重合（0°位置），β轴超前α轴90°（正交）。坐标系同样固定不动，建立目的是将三相量简化为两相量，降低控制复杂度。


## Clark变换在FOC中的位置

### FOC完整控制流程

Clark变换是FOC信号处理链的第一环：

```
采样电流(ia,ib,ic) → Clark变换 → (iα,iβ) → Park变换 → (id,iq)
                                                         ↓
                                                      PID控制
                                                         ↓
            SVPWM ← 反Clark变换 ← (vα,vβ) ← 反Park变换 ← (vd,vq)
```

### 为什么不直接使用SVPWM产生三相正弦电压

直接产生三相正弦电压当然可以驱动电机旋转，但无法实现精确控制。FOC的目标是控制电机的转矩和速度，而转矩与电流直接相关。

要精确控制转矩，就需要精确控制电流。但三相交流电流的波形复杂，直接用PID控制交流信号非常困难。通过坐标变换将交流量转换为直流量后，就可以使用简单的PID控制器实现精确控制。

### SPWM与SVPWM的区别

**SPWM（正弦脉宽调制）**：调制原理是比较正弦参考波与三角载波。电压利用率约为86.6%（$\frac{\sqrt{3}}{2}$），谐波以奇次为主，适用于简单的变频调速场合。

**SVPWM（空间矢量脉宽调制）**：调制原理基于空间电压矢量合成。电压利用率约为115%（相对于SPWM），谐波含量更低，是FOC高性能控制的首选调制方式。

> SVPWM相比SPWM电压利用率提高约15%，在相同母线电压下可输出更高的电机相电压。


## Clark变换公式推导

### 约束条件

三相电流满足：

$$i_a + i_b + i_c = 0$$

### 推导过程

从几何投影关系出发，将三相电流投影到αβ坐标系：

$$ i_\alpha = i_a \cos 0° - i_b \cos 60° - i_c \cos 60° = i_a - \frac{1}{2}i_b - \frac{1}{2}i_c $$

$$ i_\beta = i_a \cos 90° + i_b \cos 30° - i_c \cos 30° = \frac{\sqrt{3}}{2}i_b - \frac{\sqrt{3}}{2}i_c $$

利用约束条件 $i_a + i_b + i_c = 0$，即 $i_c = -i_a - i_b$，代入上式可得：

$$ i_\alpha = \frac{3}{2} i_a $$

$$ i_\beta = \frac{\sqrt{3}}{2}(i_a + 2i_b) $$

### 等幅值变换系数

FOC采用**等幅值变换**，即变换前后信号幅值保持不变。

为了保证等幅值，需要在上述公式基础上乘以系数 $\frac{2}{3}$，这个 $\frac{2}{3}$ 被称为**等幅值变换系数**。

### Clark变换最终公式

$$ i_\alpha = i_a $$

$$ i_\beta = \frac{1}{\sqrt{3}}(i_a + 2i_b) $$

> **注意**：等幅值变换系数会在后续的SVPWM计算中找补回来，保证整个控制链路的增益平衡。
