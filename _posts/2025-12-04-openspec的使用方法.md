---
layout: post
title: "openspec的使用方法"
date: 2025-12-04
category: 鸡哥语录
tags: [openspec, 工具, 项目管理]
toc: true
---

## 前言

听鸡哥说了好久openspec，但是自己一直用不来，今天下午在群里闲聊时，鸡哥终于给爆了点秘籍，老登终于愿意把焚诀交出来了

## 安装openspec

如果你已经安装了，那么请一定要先看看装的什么版本，简中互联网的教程一直是重灾区，有些东西看了不如不看

```bash
# 查看版本
openspec --version
```

如果版本较低的话，

```bash
npm install -g @fission-ai/openspec@latest
```

没有装npm的小伙伴麻烦浏览"wsl2下的droid配置过程"

## 使用openspec

openspec作为项目管理的工具，可以在一个总项目内分管多个子项目，也可以在不同的子项目中分别管理自身，对项目的不同描述会分布在xxx/openspec/pooject.md 以及specs/内的不同文件中，使得cli工具可以通过这些文件获取项目的规范，进度，任务等


## openspec init xxx

这个指令会在执行的目录下建立xxx文件，例如 openspec init ~/factory，这会在~路径下创建factory文件夹，其内容结构如下

```
tree ~/factory
factory/
     ├── AGENTS.md                    # 入口指南文件
     ├── .factory/
     │   └── commands/                # 斜杠命令定义
     │       ├── openspec-apply.md    # /openspec-apply 命令
     │       ├── openspec-archive.md  # /openspec-archive 命令
     │       └── openspec-proposal.md # /openspec-proposal 命令
     └── openspec/                    # OpenSpec 核心目录
         ├── AGENTS.md                # 完整的 AI 助手指南
         ├── project.md               # 项目配置模板，以及项目规约
         ├── changes/                 # 变更提案目录
         │   └── archive/             # 已完成变更的归档
         └── specs/                   # 规格文档目录（当前为空）
```

这些文档看不懂的麻烦请ai翻译成中文

## 查阅翻译后的文件(非常重要)

一定要看一看这些文件内写了什么，自从接触fa，openspec，经鸡哥点播，我发现这种工具有一个通性：很多重要的东西都会写在配套的文档里。


## openspec的整体流程

在建立好项目仓库后，就可以正式的进行项目的管理

### 1、提案

进入项目仓库

```
/openspec-proposal 提案内容
```

droid会先查阅openspec/project.md ，随后查看变更和规约，随后再去翻阅代码，然后和你沟通细节，并讨论需要澄清的问题点，等所有项目/任务细节明确之后，便会在

```
openspec/changes/<change-id>/
     ├── proposal.md      # 为什么、做什么、影响
     ├── tasks.md         # 实施任务清单
     ├── design.md        # (复杂时才创建)
     └── specs/
         └── <能力名>/
             └── spec.md  # 规格增量
```

随后便会在
- proposal.md - 描述问题/机会、变更内容、影响范围
- tasks.md - 分解为有序的小任务
- spec.md - 用 ## ADDED/MODIFIED/REMOVED Requirements 编写规格增量，每个需求至少一个 #### Scenario:

鸡哥语录：提案不应有依赖关系，不然怎么并发执行，不能并发的提案，多个和一个有什么区别


### 实施

```
/openspec-apply change-id
```

如果不知道change-id可以先执行 `/openspec-apply`，它会列出change-id并询问要实施的内容

随后droid会根据提案过程中产生的文件，逐步完成任务

### 归档

```
/openspec-archive change-id
```

## 我迷惑的点

我该在哪init，我应该在哪执行droid，我应该先droid 再init 还是该先init再droid

建议问问droid

## 总结

好多时候事情没有先后，好多时候又有先后，不知道先后的时候，问问鸡哥，鸡哥会给出答案
