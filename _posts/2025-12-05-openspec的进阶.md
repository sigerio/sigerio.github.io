---
layout: post
title: "openspec的进阶"
date: 2025-12-05
category: 鸡哥语录
tags: [openspec, 工具, 项目管理]
toc: true
---

## 被鸡哥骂了

说我的上一篇写的狗屁不通

## 复刻鸡哥提到的mcp工具

这个工具旨在让droid可以调用串口工具，对边缘设备进行串口调试

## 开工

### 1.0 汉化

将群里的openspec-init-cn.7z 的4个文件，替换 `~/.npm-global/lib/node_modules/@fission-ai/openspec/dist/core/templates/` 下对应的文件

### 1.1 初始化工程目录

拉取远端的空白仓库到本地：

```bash
git clone xxxxx/usart-mcp-droid.git
cd usart-mcp-for-droid
```

### 1.2 初始化

```bash
openspec init
```

然后选择你使用的CLI，我用的droid 所以就选择droid

完成后在项目根目录下会出现：

```
.
├── AGENTS.md
└── openspec
    ├── AGENTS.md
    ├── changes
    │   └── archive
    ├── project.md
    └── specs
```

### 1.3 建立droid的约束

在工程目录里执行droid，在droid的对话框内执行：

```
@AGENTS.md 本项目所有开发都基于该文件及关联文件，所有在文件内明确要求的事都必须遵守
```

### 1.4 建立宪章

宪章是整个项目的目的、技术栈、依赖、规范等

在droid的对话框内执行：

```
@openspec/project.md  首先完善宪章，本项目旨在完成一个STDIO MCP，为AI提供收发串口数据，串口终端的功能，技术栈使用python3.13，包管理使用uv，python环境管理使用pyenv，宪章内需要通过多维度约束项目的开发，所有存在歧义的地方都要在宪章内规定，宪章内禁止存在实际代码
```

droid会通过建立基础的规划路径，并通过cunzhi与你沟通

注意：一定要反复审核宪章！

### 1.5 提案

在droid的对话框内执行：

```
@.factory/commands/openspec-proposal.md 串口管理模块-端口的枚举，打开/关闭，配置
```

这里我提案的是串口模块的需求，droid会根据宪章内容，对提案进行变更设计，并产生task.md、proposal.md、design.md、spec.md

### 1.6 实施

在droid的对话框内执行：

```
@.factory/commands/openspec-apply.md
```

droid会根据提案的内容开始实施软件编写

### 1.7 调试

这一步由自己进行软件的运行调试，并向ai提出修改意见

确认阶段性的功能无误后，就可以进行归档

### 1.8 归档

在droid的对话框内执行：

```
@.factory/commands/openspec-archive.md
```

droid会将本次提案的内容进行整理并归档，之后就可以进行新的提案或者暂停工作

## 结束

后续我研究下如何增加文件下载的链接
